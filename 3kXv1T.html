<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Visualizador AR - Batman</title>

  <!-- Estilos -->
  <link rel="stylesheet" href="/style/main.css" />

  <!-- model-viewer webcomponent -->
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
</head>
<body>
  <div class="container">
    <!-- LOGO -->
    <header>
      <img src="/assets/logo.png" alt="Logo" class="logo" />
    </header>

    <!-- VISOR 3D AR -->
    <model-viewer 
      src="/models/batman.glb"
      ios-src="/models/batman.usdz"
      ar 
      ar-modes="scene-viewer quick-look webxr"
      camera-controls 
      autoplay 
      auto-rotate
      alt="Modelo 3D en AR"
      style="width: 100%; height: 80vh;"
    >
      <button slot="ar-button" class="ar-button">üîç Ver en tu espacio</button>
    </model-viewer>

    <!-- INSTRUCCIONES -->
    <div class="info">
      <p id="info1"></p>
      <p id="info2"></p>
    </div>
  </div>

  <!-- BOT√ìN DE AYUDA -->
  <button class="help-toggle" onclick="toggleHelp()">?</button>

  <!-- CAJA DE AYUDA -->
  <div class="help-box" id="helpBox" style="display: none;">
    <!-- Se llena din√°micamente -->
  </div>

  <!-- SCRIPTS -->
  <script src="/js/lang.js"></script>
  <script>
    function toggleHelp() {
      const box = document.getElementById('helpBox');
      box.style.display = box.style.display === 'block' ? 'none' : 'block';
    }

    // Ejecuta carga de idioma correctamente
    window.addEventListener('DOMContentLoaded', () => {
      detectLangAndLoad();
    });
  </script>
</body>
</html>
